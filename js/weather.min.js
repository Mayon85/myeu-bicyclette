function getWeather(){let e=`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${key}&lang=fr&units=metric`;fetch(e).then(function(e){let t=e.json();return t}).then(function(e){weather.temperature.value=Math.floor(e.main.temp),weather.description=e.weather[0].description,weather.iconId=e.weather[0].icon}).then(function(){displayWeather()})}function displayWeather(){iconElement.innerHTML=`<img src="./ressources/weather-icons/${weather.iconId}.png"/>`,tempElement.innerHTML=`${weather.temperature.value}°<span>C</span>`,descElement.innerHTML=weather.description,descElement.style.textTransform="capitalize"}const showDate=document.querySelector(".display-date p"),iconElement=document.querySelector(".weather-icon"),tempElement=document.querySelector(".temperature-value p"),descElement=document.querySelector(".temperature-description p");let today=new Date,months=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"];months=months[today.getMonth()];let year=today.getFullYear(),date=today.getDate(),current_date=`${date} ${months} ${year}`;showDate.innerHTML=current_date;const weather={temperature:{}},key="cb32c7b51eb9bb812fbb0e2c4b498c5a",latitude=46.7252,longitude=-2.3494;window.onload=getWeather();